<!doctype html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="style.css" />
  <link rel="stylesheet" type="text/css" href="../style.css" />
  <title>Granule documentation - Primitives</title>
</head>
<body>
<div id="navigator">
  <b>Modules</b><br /><br />
<a href='../index.html'><i>Top-level</i><br /></a><ul><li><a href='Primitives.html'>Primitives</a></li><br /><li><a href='Bool.html'>Bool</a></li><li><a href='Choice.html'>Choice</a></li><li><a href='Either.html'>Either</a></li><li><a href='Existential.html'>Existential</a></li><li><a href='File.html'>File</a></li><li><a href='Fin.html'>Fin</a></li><li><a href='Fix.html'>Fix</a></li><li><a href='Graph.html'>Graph</a></li><li><a href='List.html'>List</a></li><li><a href='Maybe.html'>Maybe</a></li><li><a href='Nat.html'>Nat</a></li><li><a href='Parallel.html'>Parallel</a></li><li><a href='Prelude.html'>Prelude</a></li><li><a href='Result.html'>Result</a></li><li><a href='Stack.html'>Stack</a></li><li><a href='Vec.html'>Vec</a></li></ul>
</div>
<div id="content">
  <div id="logo">
    <img src="../images/gr-blue.png" />
  </div>
  <b>Built-in primitives</b><br /><br />
<section><h2>Meta-data</h2><ul></ul></section><section><h2>Data types</h2><div class='code'>data () where
  ()</div><div class='code'>data IOElem where
  Stdout;
  Stdin;
  Stderr;
  Open;
  Read;
  Write;
  IOExcept;
  Close</div><div class='code'>data Handle HandleType -> Type where
  </div><div class='code'>data HandleType where
  R;
  W;
  A;
  RW</div><div class='code'>data IOMode HandleType -> Type where
  ReadMode : IOMode R;
  WriteMode : IOMode W;
  AppendMode : IOMode A;
  ReadWriteMode : IOMode RW</div><div class='code'>data ArrayStack (capacity, Nat) (maxIndex, Nat) (a, Type) where
  </div><div class='code'>data BenchList where
  BenchGroupString BenchList BenchList;
  BenchInt String Int [(0 : Ext Nat)..∞] -> () <{Stdout}> BenchList;
  Done</div><div class='code'>data Capability where
  Console;
  TimeDate</div></section><section><h2>Definitions</h2><div class='code'>use : forall {a : Type} . a -> a [1]</div><div class='desc'></div><div class='code'>compose : forall {a : Type, b : Type, c : Type} . (b -> c) -> (a -> b) -> a -> c</div><div class='desc'></div><div class='code'>div : Int -> Int -> Int</div><div class='desc'>-----------------------------------------------------------------------------</div><div class='code'>pure : forall {a : Type} . a -> a <Pure></div><div class='desc'>-----------------------------------------------------------------------------</div><div class='code'>fromPure : forall {a : Type} . a <Pure> -> a</div><div class='desc'></div><div class='code'>fromStdin : String <{Stdin}></div><div class='desc'></div><div class='code'>toStdout : String -> () <{Stdout}></div><div class='desc'></div><div class='code'>toStderr : String -> () <{Stderr}></div><div class='desc'></div><div class='code'>throw : forall {a : Type, k : Coeffect} . (a [(0 : k)]) <MayFail></div><div class='desc'>-----------------------------------------------------------------------------</div><div class='code'>showChar : Char -> String</div><div class='desc'>-----------------------------------------------------------------------------</div><div class='code'>intToFloat : Int -> Float</div><div class='desc'></div><div class='code'>showInt : Int -> String</div><div class='desc'></div><div class='code'>showFloat : Float -> String</div><div class='desc'></div><div class='code'>readInt : String -> Int</div><div class='desc'></div><div class='code'>fork : forall {s : Protocol, k : Coeffect, c : k} . {SingleAction s, ExactSemiring k} =>
    ((Chan s) [c] -> () <Session>) -> ((Chan (Dual s)) [c]) <Session></div><div class='desc'>-----------------------------------------------------------------------------</div><div class='code'>forkLinear : forall {s : Protocol} . (LChan s -> ()) -> LChan (Dual s)</div><div class='desc'></div><div class='code'>forkLinear' : forall {p : Protocol, s : Coeffect} . ((LChan p) [(1 : s)] -> ()) -> LChan (Dual p)</div><div class='desc'></div><div class='code'>send : forall {a : Type, s : Protocol} . LChan (Send a s) -> a -> LChan s</div><div class='desc'></div><div class='code'>recv : forall {a : Type, s : Protocol} . LChan (Recv a s) -> (a, LChan s)</div><div class='desc'></div><div class='code'>close : LChan End -> ()</div><div class='desc'></div><div class='code'>selectLeft : forall {p1 : Protocol, p2 : Protocol} . LChan (Select p1 p2) -> LChan p1</div><div class='desc'></div><div class='code'>selectRight : forall {p1 : Protocol, p2 : Protocol} . LChan (Select p1 p2) -> LChan p2</div><div class='desc'></div><div class='code'>offer : forall {p1 : Protocol, p2 : Protocol, a : Type} . (LChan p1 -> a) -> (LChan p2 -> a) -> LChan (Offer p1 p2) -> a</div><div class='desc'></div><div class='code'>gsend : forall {a : Type, s : Protocol} . Chan (Send a s) -> a -> (Chan s) <Session></div><div class='desc'></div><div class='code'>grecv : forall {a : Type, s : Protocol} . Chan (Recv a s) -> (a, Chan s) <Session></div><div class='desc'></div><div class='code'>gclose : Chan End -> () <Session></div><div class='desc'></div><div class='code'>forkNonLinear : forall {p : Protocol, s : Coeffect, r : s} . {SingleAction p, ExactSemiring s} =>
    ((LChan p) [r] -> ()) -> (LChan (Dual p)) [r]</div><div class='desc'></div><div class='code'>forkMulticast : forall {p : Protocol, n : Nat} . {Sends p} =>
    (LChan (Graded n p) -> ()) -> N n -> Vec n (LChan (Dual p))</div><div class='desc'></div><div class='code'>forkReplicate : forall {p : Protocol, n : Nat} . {ReceivePrefix p} =>
    (LChan p -> ()) [0..n] -> N n -> Vec n ((LChan (Dual p)) [0..1])</div><div class='desc'></div><div class='code'>forkReplicateExactly : forall {p : Protocol, n : Nat} . {ReceivePrefix p} =>
    (LChan p -> ()) [n] -> N n -> Vec n (LChan (Dual p))</div><div class='desc'></div><div class='code'>openHandle : forall {m : HandleType} . IOMode m -> String -> (Handle m) <{Open, IOExcept}></div><div class='desc'></div><div class='code'>readChar : Handle R -> (Handle R, Char) <{Read, IOExcept}></div><div class='desc'></div><div class='code'>readChar' : Handle RW -> (Handle RW, Char) <{Read, IOExcept}></div><div class='desc'></div><div class='code'>appendChar : Handle A -> Char -> (Handle A) <{Write, IOExcept}></div><div class='desc'></div><div class='code'>writeChar : Handle W -> Char -> (Handle W) <{Write, IOExcept}></div><div class='desc'></div><div class='code'>writeChar' : Handle RW -> Char -> (Handle RW) <{Write, IOExcept}></div><div class='desc'></div><div class='code'>closeHandle : forall {m : HandleType} . Handle m -> () <{Close, IOExcept}></div><div class='desc'></div><div class='code'>isEOF : Handle R -> (Handle R, Bool) <{Read, IOExcept}></div><div class='desc'></div><div class='code'>isEOF' : Handle RW -> (Handle RW, Bool) <{Read, IOExcept}></div><div class='desc'></div><div class='code'>charToInt : Char -> Int</div><div class='desc'></div><div class='code'>charFromInt : Int -> Char</div><div class='desc'></div><div class='code'>moveChar : Char -> Char [(0 : Ext Nat)..∞]</div><div class='desc'></div><div class='code'>moveInt : Int -> Int [(0 : Ext Nat)..∞]</div><div class='desc'></div><div class='code'>moveString : String -> String [(0 : Ext Nat)..∞]</div><div class='desc'></div><div class='code'>stringAppend : String -> String -> String</div><div class='desc'>-----------------------------------------------------------------------------</div><div class='code'>stringUncons : String -> Maybe (Char, String)</div><div class='desc'></div><div class='code'>stringCons : Char -> String -> String</div><div class='desc'></div><div class='code'>stringUnsnoc : String -> Maybe (String, Char)</div><div class='desc'></div><div class='code'>stringSnoc : String -> Char -> String</div><div class='desc'></div><div class='code'>push : forall {a : Type, cap : Nat, maxIndex : Nat} . {maxIndex < cap} =>
    ArrayStack cap maxIndex a -> a -> ArrayStack cap (maxIndex + 1) a</div><div class='desc'></div><div class='code'>pop : forall {a : Type, cap : Nat, maxIndex : Nat} . {maxIndex > 0} =>
    ArrayStack cap maxIndex a -> (a, ArrayStack cap (maxIndex - 1) a)</div><div class='desc'></div><div class='code'>allocate : forall {a : Type, cap : Nat} . N cap -> ArrayStack cap 0 a</div><div class='desc'></div><div class='code'>swap : forall {a : Type, cap : Nat, maxIndex : Nat} . ArrayStack cap (maxIndex + 1) a -> Fin (maxIndex + 1) -> a -> (a, ArrayStack cap (maxIndex + 1) a)</div><div class='desc'></div><div class='code'>copyArray : forall {a : Type, cap : Nat, maxIndex : Nat} . ArrayStack cap maxIndex (a [2]) -> (ArrayStack cap maxIndex a, ArrayStack cap maxIndex a)</div><div class='desc'></div><div class='code'>tick : () <1></div><div class='desc'>-----------------------------------------------------------------------------</div><div class='code'>uniqueReturn : forall {a : Type} . *a -> !a</div><div class='desc'>-----------------------------------------------------------------------------</div><div class='code'>uniqueBind : forall {a : Type, b : Type} . (*a -> !b) -> !a -> !b</div><div class='desc'></div><div class='code'>uniquePush : forall {a : Type, b : Type} . *(a, b) -> (*a, *b)</div><div class='desc'></div><div class='code'>uniquePull : forall {a : Type, b : Type} . (*a, *b) -> *(a, b)</div><div class='desc'></div><div class='code'>reveal : forall {a : Type} . a *Trusted -> a [Lo]</div><div class='desc'></div><div class='code'>trustedBind : forall {a : Type, b : Type} . (a *Trusted -> b [Lo]) -> a [Lo] -> b [Lo]</div><div class='desc'></div><div class='code'>newFloatArray : Int -> *FloatArray</div><div class='desc'>-----------------------------------------------------------------------------</div><div class='code'>newFloatArrayI : Int -> FloatArray</div><div class='desc'></div><div class='code'>readFloatArray : *FloatArray -> Int -> (Float, *FloatArray)</div><div class='desc'></div><div class='code'>readFloatArrayI : FloatArray -> Int -> (Float, FloatArray)</div><div class='desc'></div><div class='code'>writeFloatArray : *FloatArray -> Int -> Float -> *FloatArray</div><div class='desc'></div><div class='code'>writeFloatArrayI : FloatArray -> Int -> Float -> FloatArray</div><div class='desc'></div><div class='code'>lengthFloatArray : *FloatArray -> (Int, *FloatArray)</div><div class='desc'></div><div class='code'>lengthFloatArrayI : FloatArray -> (Int, FloatArray)</div><div class='desc'></div><div class='code'>deleteFloatArray : *FloatArray -> ()</div><div class='desc'></div><div class='code'>mkIOBenchMain : BenchList -> () <Pure></div><div class='desc'></div><div class='code'>scale : (k : Float) -> DFloat [k] -> DFloat</div><div class='desc'>------------------</div><div class='code'>cap : (c : Capability) -> () [{c}] -> CapabilityType c</div><div class='desc'></div><div class='code'>with : forall {a : Type, b : Type} . a [0..1] -> b [0..1] -> a & b</div><div class='desc'>-----------------------------------------------------------------------------</div><div class='code'>projL : forall {a : Type, b : Type} . a & b -> a</div><div class='desc'></div><div class='code'>projR : forall {a : Type, b : Type} . a & b -> b</div><div class='desc'></div></section>
</div>
</body>
</html>